# ุฅุตูุงุญ ูุดููุฉ ุงูุฑุตูุฏ - ุชุญุฏูุซ ููุงุฆู

## ๐ง ุงููุดููุฉ ุงูุชู ุชู ุฅุตูุงุญูุง

**ุงููุดููุฉ**: ุงูุฑุตูุฏ ูุธูุฑ 0 ุฑุบู ุฃู ุงูููุงูุขุช ุชูุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุธูุฑ ูู ุงููุนุงููุงุช

## ๐ ุงูุณุจุจ ุงูุฌุฐุฑู

1. **API `/api/me` ูุง ููุฑุฌุน ุงูุฑุตูุฏ**: ูุงู ุงูุงุณุชุนูุงู ูุง ูุชุถูู `balance` ูู `select`
2. **ูุดููุฉ ุชุญููู ุงูุจูุงูุงุช**: `balance` ูู ููุน `Decimal` ูู Prisma ููู ุงููุงุฌูุฉ ุชุชููุน `number`
3. **ุนุฏู ุชุญุฏูุซ ุงูุฑุตูุฏ**: ุงููุงุฌูุฉ ูุง ุชูุญุฏุซ ุงูุฑุตูุฏ ุนูุฏ ุชุบููุฑ ุญุงูุฉ ุงููุตุงุฏูุฉ

## โ ุงูุญููู ุงููุทุจูุฉ

### 1. ุฅุตูุงุญ API `/api/me`
```typescript
// ูุจู ุงูุฅุตูุงุญ
select: { id: true, email: true, role: true, walletAddress: true }

// ุจุนุฏ ุงูุฅุตูุงุญ  
select: { id: true, email: true, role: true, walletAddress: true, balance: true, referralCode: true }
```

### 2. ุฅุตูุงุญ ุชุญููู ุงูุจูุงูุงุช ูู ุงููุงุฌูุฉ
```typescript
// ุฅุถุงูุฉ ุชุญููู Decimal ุฅูู number
const balance = typeof data.user.balance === 'object' && data.user.balance.toNumber 
  ? data.user.balance.toNumber() 
  : Number(data.user.balance) || 0;
```

### 3. ุฅุถุงูุฉ ุชุญุฏูุซ ุงูุฑุตูุฏ ุงูุชููุงุฆู
```typescript
// ุชุญุฏูุซ ุงูุฑุตูุฏ ุนูุฏ ุชุบููุฑ ุญุงูุฉ ุงููุตุงุฏูุฉ
const handleAuthChange = () => {
  checkAuthentication();
  if (isAuthenticated) {
    fetchUserBalance();
  }
};
```

### 4. ุชุญุฏูุซ ููุฏ ุงูุฏุนูุฉ ุฃูุถุงู
- ุฅุถุงูุฉ ุชุญุฏูุซ ููุฏ ุงูุฏุนูุฉ ุนูุฏ ุชุบููุฑ ุญุงูุฉ ุงููุตุงุฏูุฉ
- ุถูุงู ุชุญุฏูุซ ุฌููุน ุงูุจูุงูุงุช ุงููุฑุชุจุทุฉ ุจุงููุณุชุฎุฏู

## ๐ฏ ุงููุชูุฌุฉ

ุงูุขู ุงูุฑุตูุฏ ุณูุธูุฑ ุจุดูู ุตุญูุญ:
- โ ุงูููุงูุขุช ุงูุนุดูุงุฆูุฉ ุชูุถุงู ููุฑุตูุฏ ูุชุธูุฑ ููุฑุงู
- โ ุงูููุงูุขุช ุงูููููุฉ ุชูุถุงู ููุฑุตูุฏ ูุชุธูุฑ ููุฑุงู  
- โ ุงูุฑุตูุฏ ููุญุฏุซ ุชููุงุฆูุงู ุนูุฏ ุงููุทุงูุจุฉ ุจุฃู ููุงูุฃุฉ
- โ ููุฏ ุงูุฏุนูุฉ ููุญุฏุซ ุชููุงุฆูุงู ุนูุฏ ุชูููุฏู

## ๐งช ุงุฎุชุจุงุฑ ุงูุฅุตูุงุญ

1. **ุงููุทุงูุจุฉ ุจููุงูุฃุฉ ุนุดูุงุฆูุฉ**: ุงูุฑุตูุฏ ูุฌุจ ุฃู ูุชุญุฏุซ ููุฑุงู
2. **ุงููุทุงูุจุฉ ุจููุงูุฃุฉ ููููุฉ**: ุงูุฑุตูุฏ ูุฌุจ ุฃู ูุชุญุฏุซ ููุฑุงู
3. **ุชูููุฏ ููุฏ ุฏุนูุฉ**: ูุฌุจ ุฃู ูุธูุฑ ููุฑุงู
4. **ุชุญุฏูุซ ุงูุตูุญุฉ**: ุงูุฑุตูุฏ ูุฌุจ ุฃู ูุจูู ููุง ูู

---
**ุชุงุฑูุฎ ุงูุฅุตูุงุญ**: 7 ุฃูุชูุจุฑ 2025  
**ุญุงูุฉ ุงูุฅุตูุงุญ**: โ ููุชูู  
**ุงููุชูุฌุฉ**: ุงูุฑุตูุฏ ูุนูู ุจุดูู ูุซุงูู
